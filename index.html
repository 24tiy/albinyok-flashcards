<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Albinyok Flashcards</title>
  <meta name="description" content="–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∏–∑ CSV/Google Sheets/Excel –Ω–∞ –ª—é–±–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg:#f7f9fc; --bg-alt:#f1f4fa; --card:#fff; --text:#212c45; --muted:#98a3b8;
      --accent:#715AFF; --accent-2:#53D1FD; --btn:#715AFF; --btn-hover:#533BE6;
      --ok:#22bb88; --bad:#f03d61;
      --shadow:0 14px 38px rgba(43,51,104,.16), 0 3px 8px rgba(43,51,104,.08);
      --radius:18px;
    }
    body {
      margin:0; font-family:'Inter',ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Noto Sans,Arial;
      background:var(--bg); color:var(--text); min-height:100vh; transition:background .5s,color .5s; font-size:14px;
    }
    .container {max-width:1200px; margin:24px auto; padding:0 20px;}
    /* -- –¶–µ–Ω—Ç—Ä–æ–≤–∫–∞ —à–∞–ø–∫–∏ -- */
    .main-header-centered {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      margin-bottom: 24px;
      margin-top: 10px;
    }
    .main-header-centered .header-row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 14px;
    }
    .main-header-centered .logo {
      width:40px;
      height:40px;
      border-radius:12px;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      box-shadow:var(--shadow);
      display:flex;
      align-items:center;
      justify-content:center;
      color:#fff;
      font-weight:900;
      font-size:18px;
      background-image:url('logo.png');
      background-size:cover;
      background-position:center;
    }
    .main-header-centered .title-block {
      display: flex; flex-direction: column; align-items: flex-start; text-align: left;
    }
    .main-header-centered h1 {
      margin: 0; font-size:2.2rem; font-weight:800; line-height:1.15; letter-spacing:-1px; color: var(--text);
    }
    .main-header-centered .sub {
      color: var(--muted); font-size: 1.3rem; margin-top:18px; text-align: center; font-weight: 400;
    }
    .main-header-centered .sub-secondary {
      color: var(--muted); font-size: 1rem; margin-top: 10px; margin-bottom: 0; text-align: center; font-weight: 400;
    }
    /* --- –û—Å—Ç–∞–ª—å–Ω–æ–π css --- */
    .lang-select{margin-left:auto;display:flex;gap:8px;}
    .lang-flags{border:none;background:var(--bg-alt);padding:8px 11px;font-size:13.5px;appearance:none;border-radius:11px;font-weight:600;color:var(--text);}
    .uploader, .card {max-width:700px;width:100%;margin-left:auto;margin-right:auto;}
    .uploader { margin:18px auto 10px; padding:17px 12px 12px; border-radius:22px;
      background:var(--bg-alt); box-shadow:var(--shadow); display:block;}
    .uploader h2{font-weight:800;font-size:1.08rem;}
    .uploader-flex{display:flex;gap:10px;align-items:center;flex-wrap:wrap;}
    .input-url-row {display:flex; align-items:center; gap:7px; flex-wrap:wrap;}
    label.file{display:inline-flex;align-items:center;gap:7px;background:var(--card);font-weight:600;border:1.2px solid #e2e6ef;padding:8px 10px; border-radius:12px;cursor:pointer;box-shadow:var(--shadow);}
    input[type=file]{display:none;}
    input[type=url],input[type=text],select{ font-size:14px;padding:7px;border-radius:var(--radius);border:1.2px solid #e2e6ef;background:var(--card);color:var(--text);}
    input[type=url]:focus,input[type=text]:focus,select:focus{border:1.5px solid var(--accent);outline:none;}
    .btn-glass-violet {background:rgba(125,100,255,.13);color:#5239ca;border:1.6px solid #9277f5;border-radius:16px;font-weight:700; font-size:1.02rem;padding:10px 18px;box-shadow:0 7px 26px 0 rgba(126,91,255,.13),0 2px 7px 0 rgba(126,91,255,.09);backdrop-filter:blur(7px);margin:0 4px 6px 0;display:inline-flex;align-items:center;cursor:pointer;transition:color .2s,background .2s;text-decoration:none;}
    .btn-glass-violet:hover{background:rgba(125,100,255,.2);}
    .btn-glass-violet.selected,.btn-glass-violet:active,.btn-glass-violet.primary {background: #8d6dff;color:#fff;border-color: #8769e6;}
    .settings-bar{display: flex; justify-content:center; align-items:stretch; margin:13px 0 10px; gap:18px;
      flex-wrap:nowrap; width:100%;}
    .setbtn-main{display:flex; align-items:center; flex:1 1 0; gap:7px; min-width:0; min-height:54px;
      justify-content:center; max-width:100%; text-align:center; box-sizing:border-box;}
    .setbtn-main input[type=checkbox]{margin-right:7px;transform:scale(1.15);}
    .btn-new {background:rgba(82,195,255,0.18);color:#233542;border-radius:14px;border:1.6px solid #43c6f6; font-weight:800;font-size:1.01rem; padding:10px 18px; margin:0 4px 0 0;transition:color .2s,background .2s;text-decoration:none;cursor:pointer;}
    .btn-new:hover{background:rgba(82,195,255,0.25);}
    .workspace{display:none;margin-top:20px;}
    .ws-topbar,.ws-buttons-block{display:flex;flex-wrap:wrap;gap:15px;justify-content:center;align-items:center;}
    .ws-topbar{flex-direction:column;margin-bottom:7px;}
    .ws-info-block{display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:5px;}
    .ws-buttons-block{margin-top:0;}
    .chip{background:var(--card);border:1px solid #e2e6ef;padding:6px 13px;border-radius:99px;box-shadow:var(--shadow);font-size:15px;}
    .progress{display:none;}
    .card {
      position:relative;
      background:var(--bg-alt);border-radius:22px;box-shadow:var(--shadow);
      padding:32px 24px; margin:auto; margin-bottom:24px;
      min-height:260px;
      display:block;text-align:center;
    }
    .q{
      font-size:clamp(19px,2vw,24px);font-weight:800;margin-bottom:18px;margin-top:0;
      color:var(--text); transition:color .2s; word-break:break-word; line-height:1.28;
      text-align:center;
    }
    .a{
      font-size:clamp(16px,2vw,19px);font-weight:600;min-height:38px;max-width:100%;
      transition:color .3s;opacity:1;will-change:color,opacity;word-break:break-word;text-align:center;display:block;
      color:var(--muted);
      line-height:1.55;
      margin-bottom:0;
    }
    .a.hidden{color:transparent!important;opacity:1;user-select:none;pointer-events:none;}
    .controls{display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:center;margin-top:15px;}
    .ctrl{display:inline-flex;align-items:center;gap:7px;padding:10px 20px;border-radius:12px;border:1px solid #d2d2df;background:var(--card);cursor:pointer;box-shadow:var(--shadow);font-weight:700;font-size:1.04rem;transition:color .2s,background .2s;}
    .ctrl:hover{background:#f5f5f5;}
    .next-btn-main {background:var(--accent);color:#fff;font-weight:700;border-radius:13px;padding:10px 26px;font-size:1.08rem;box-shadow:var(--shadow);border:none; margin-left:7px;cursor:pointer;}
    .next-btn-main:hover{background:var(--btn-hover);}
    .error{padding:9px 8px;border-radius:12px;background:rgba(255,0,0,.09);border:1px solid #e49c9c;margin-top:7px;color:#b11212;display:none;}
    .error.show {display:block;}
    .exportbar{display:flex;gap:6px;margin-top:18px;justify-content:center;flex-wrap:wrap;padding-bottom:7px;}
    .edit-bar{margin:14px 0;text-align:center;}
    .feedback-link{text-align:center;font-size:14.6px;margin:13px 0;}
    .feedback-link a{color:#51a5e6;text-decoration:none;font-weight:700;font-size:16px;}
    .feedback-link a:hover{color:#715aff;text-decoration:underline;}
    @media (max-width:1200px){ 
      .card,.uploader{padding:26px 6vw;max-width:99vw;} 
      .container{padding:0 10px;}
    }
    @media (max-width:700px){
      .container{max-width:99vw;padding:0 8px;}
      .card,.uploader{padding:12px 4vw;max-width:99vw;}
      .main-header-centered h1 {font-size:1.8rem;}
      .main-header-centered .sub {font-size:1.1rem; margin-top:12px;}
      .main-header-centered .sub-secondary {font-size:0.9rem; margin-top:8px;}
      .main-header-centered .header-row {gap:10px;}
      .main-header-centered .logo {width:32px;height:32px;font-size:14px;}
      .lang-select{position:relative!important;top:auto!important;right:auto!important;margin:10px 0;justify-content:center;}
    }
    @media (max-width:600px){
      .settings-bar{flex-wrap:wrap;}
      .setbtn-main{flex-basis:100%;min-width:120px;}
      .ws-topbar{gap:10px;}
      .ws-info-block{flex-direction:column;}
      .ws-buttons-block{gap:8px;}
      .q{font-size:18px;}
      .a,.chip{font-size:13px;}
      .uploader-flex{flex-direction:column;gap:10px;}
      .input-url-row{width:100%;justify-content:flex-start;}
      .card,.uploader{min-height:170px;}
      .exportbar{gap:4px;}
      .btn-new{font-size:0.9rem;padding:8px 12px;}
    }
  </style>
</head>
<body>
<div class="container">
  <div class="main-header-centered">
    <div class="header-row">
      <div class="logo">Q‚ÜîA</div>
      <div class="title-block">
        <h1 id="siteTitle">Albinyok Flashcards</h1>
      </div>
    </div>
    <div class="sub" id="siteSubtitle"></div>
    <div class="sub-secondary" id="localProgress"></div>
  </div>
  <div class="lang-select" style="position:absolute; top:24px; right:32px;">
    <select id="langSelect" class="lang-flags" aria-label="Language">
      <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
      <option value="en">üá¨üáß English</option>
      <option value="fr">üá´üá∑ Fran√ßais</option>
    </select>
  </div>
  <section class="uploader" id="uploader" aria-label="–ó–∞–≥—Ä—É–∑–∫–∞ CSV">
    <h2 id="fileOrLink"></h2>
    <div class="uploader-flex">
      <label for="file" class="file" id="fileLabel">
        <span id="fileIcon">üìÑ</span>
        <span id="fileBtnTxt"></span>
      </label>
      <input type="file" id="file" accept=".csv,.tsv,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,text/*" />
      <div class="input-url-row">
        <input type="url" id="urlInput" style="width:260px;" value="https://github.com/24tiy/albinyok-flashcards/blob/main/data.csv" placeholder="https://...csv, .tsv, google sheet etc" />
        <button class="btn-glass-violet" id="loadUrlBtn" type="button">–ü–æ —Å—Å—ã–ª–∫–µ</button>
      </div>
      <button class="btn-glass-violet reupload-btn" id="mainReuploadBtn" type="button">
        <label for="reupload" style="margin-bottom:0;cursor:pointer;">–°–º–µ–Ω–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç</label>
        <input type="file" id="reupload" accept=".csv,.tsv,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,text/*" />
      </button>
    </div>
    <div id="error" class="error" role="alert"></div>
    <div id="downloadManual" class="error" style="margin-top:8px;font-size:16px;"></div>
  </section>
  <div class="settings-bar">
    <button class="btn-glass-violet setbtn-main" id="toggleEditBtn" type="button">
      üìù <span id="editLabel">–†–µ–¥–∞–∫—Ç–æ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫</span>
    </button>
    <button class="btn-glass-violet setbtn-main" id="testBtnWrap" type="button">
      <input type="checkbox" id="testModeCheck" />
      <span id="testBtnText">–í–∫–ª—é—á–∏—Ç—å —Ç–µ—Å—Ç</span>
    </button>
    <button class="btn-glass-violet setbtn-main" id="trainHardBtn" type="button">
      üí™ <span id="hardLabel">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ</span>
    </button>
  </div>
  <div class="test-status" id="testStatus" style="text-align:center;margin:3px 0 2px;font-size:15px;color:#8258e1;display:none;">
    <b>–†–µ–∂–∏–º —Ç–µ—Å—Ç–∞ –≤–∫–ª—é—á—ë–Ω</b> ‚Äî —Ç–æ–ª—å–∫–æ "–ó–Ω–∞—é/–ù–µ –∑–Ω–∞—é", –¥–∞–ª–µ–µ <b>–î–∞–ª—å—à–µ</b>
  </div>
  <section class="workspace" id="workspace" aria-live="polite">
    <div class="ws-topbar">
      <div class="ws-info-block" id="wsInfoBlock" style="margin-bottom:4px;">
        <span id="deckName" class="chip"></span>
        <span id="counter" class="chip">0 / 0</span>
        <span id="score" class="chip">‚úÖ 0 ‚Ä¢ ‚ùå 0</span>
      </div>
      <div class="ws-buttons-block">
        <button class="btn-glass-violet" id="shuffleBtn" type="button" title="S">–ü–µ—Ä–µ–º–µ—à–∞—Ç—å</button>
        <button class="btn-glass-violet" id="resetBtn" type="button" title="R">–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
      </div>
    </div>
    <div class="card" id="card">
      <div class="q" id="q"></div>
      <div class="a hidden" id="a"></div>
    </div>
    <div class="controls" id="controlsBar" aria-label="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"></div>
  </section>
  <section class="edit-bar" id="editorBar" style="display:none;"></section>
  <div class="exportbar">
    <button class="btn-new" id="templateBtn" type="button">–®–∞–±–ª–æ–Ω CSV</button>
    <button class="btn-new" id="demoBtn" type="button">–î–µ–º–æ-–Ω–∞–±–æ—Ä</button>
    <a id="helpLink" href="README.md" target="_blank" class="btn-new">–ü–æ–º–æ—â—å</a>
    <button class="btn-new" id="exportBtn" type="button">–≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</button>
    <button class="btn-new" id="clearBtn" type="button">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</button>
  </div>
  <div class="feedback-link" id="feedback-link"></div>
</div>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
<script src="flashcards.js"></script>
</body>
</html>
